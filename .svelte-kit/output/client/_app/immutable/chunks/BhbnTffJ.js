import{aH as G,C as U,G as K,e as P,h as y,aI as Z,ac as X,a3 as m,aJ as x,aK as rr,A as C,aL as er,aM as ar,aN as tr,aO as ir,Q as sr,aP as ur,q as fr,aQ as lr,aR as cr,g as or,aS as nr,z as j,aT as vr,al as _r,aU as dr}from"./BBE0ZLmY.js";import{g as hr,j as br,k as gr,n as yr,l as Ar}from"./B9MqONo3.js";import{t as pr,a as Sr,c as Nr}from"./D7RmMKMa.js";function Lr(r,a){var e=void 0,t;G(()=>{e!==(e=a())&&(t&&(U(t),t=null),e&&(t=K(()=>{P(()=>e(r))})))})}function Tr(r,a,e,t,i,s){var l=r.__className;if(y||l!==e||l===void 0){var c=pr(e,t,s);(!y||c!==r.getAttribute("class"))&&(c==null?r.removeAttribute("class"):a?r.className=c:r.setAttribute("class",c)),r.__className=e}else if(s&&i!==s)for(var v in s){var d=!!s[v];(i==null||d!==!!i[v])&&r.classList.toggle(v,d)}return s}function R(r,a={},e,t){for(var i in e){var s=e[i];a[i]!==s&&(e[i]==null?r.style.removeProperty(i):r.style.setProperty(i,s,t))}}function Er(r,a,e,t){var i=r.__style;if(y||i!==a){var s=Sr(a,t);(!y||s!==r.getAttribute("style"))&&(s==null?r.removeAttribute("style"):r.style.cssText=s),r.__style=a}else t&&(Array.isArray(t)?(R(r,e?.[0],t[0]),R(r,e?.[1],t[1],"important")):R(r,e,t));return t}function M(r,a,e=!1){if(r.multiple){if(a==null)return;if(!m(a))return x();for(var t of r.options)t.selected=a.includes(I(t));return}for(t of r.options){var i=I(t);if(rr(i,a)){t.selected=!0;return}}(!e||a!==void 0)&&(r.selectedIndex=-1)}function Y(r){var a=new MutationObserver(()=>{M(r,r.__value)});a.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),X(()=>{a.disconnect()})}function qr(r,a,e=a){var t=new WeakSet,i=!0;Z(r,"change",s=>{var l=s?"[selected]":":checked",c;if(r.multiple)c=[].map.call(r.querySelectorAll(l),I);else{var v=r.querySelector(l)??r.querySelector("option:not([disabled])");c=v&&I(v)}e(c),C!==null&&t.add(C)}),P(()=>{var s=a();if(r===document.activeElement){var l=er??C;if(t.has(l))return}if(M(r,s,i),i&&s===void 0){var c=r.querySelector(":checked");c!==null&&(s=I(c),e(s))}r.__value=s,i=!1}),Y(r)}function I(r){return"__value"in r?r.__value:r.value}const T=Symbol("class"),E=Symbol("style"),z=Symbol("is custom element"),Q=Symbol("is html");function Ir(r){if(y){var a=!1,e=()=>{if(!a){if(a=!0,r.hasAttribute("value")){var t=r.value;k(r,"value",null),r.value=t}if(r.hasAttribute("checked")){var i=r.checked;k(r,"checked",null),r.checked=i}}};r.__on_r=e,fr(e),lr()}}function Pr(r,a){var e=H(r);e.value===(e.value=a??void 0)||r.value===a&&(a!==0||r.nodeName!=="PROGRESS")||(r.value=a??"")}function wr(r,a){a?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function k(r,a,e,t){var i=H(r);if(y&&(i[a]=r.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&r.nodeName==="LINK")){t||kr(r,a,e??"");return}i[a]!==(i[a]=e)&&(a==="loading"&&(r[dr]=e),e==null?r.removeAttribute(a):typeof e!="string"&&F(r).includes(a)?r[a]=e:r.setAttribute(a,e))}function Mr(r,a,e,t,i=!1,s=!1){if(y&&i&&r.tagName==="INPUT"){var l=r,c=l.type==="checkbox"?"defaultChecked":"defaultValue";c in e||Ir(l)}var v=H(r),d=v[z],A=!v[Q];let S=y&&d;S&&j(!1);var o=a||{},N=r.tagName==="OPTION";for(var g in a)g in e||(e[g]=null);e.class?e.class=Nr(e.class):(t||e[T])&&(e.class=null),e[E]&&(e.style??=null);var w=F(r);for(const u in e){let f=e[u];if(N&&u==="value"&&f==null){r.value=r.__value="",o[u]=f;continue}if(u==="class"){var L=r.namespaceURI==="http://www.w3.org/1999/xhtml";Tr(r,L,f,t,a?.[T],e[T]),o[u]=f,o[T]=e[T];continue}if(u==="style"){Er(r,f,a?.[E],e[E]),o[u]=f,o[E]=e[E];continue}var h=o[u];if(!(f===h&&!(f===void 0&&r.hasAttribute(u)))){o[u]=f;var $=u[0]+u[1];if($!=="$$")if($==="on"){const b={},p="$$"+u;let n=u.slice(2);var O=Ar(n);if(hr(n)&&(n=n.slice(0,-7),b.capture=!0),!O&&h){if(f!=null)continue;r.removeEventListener(n,o[p],b),o[p]=null}if(f!=null)if(O)r[`__${n}`]=f,gr([n]);else{let J=function(W){o[u].call(this,W)};o[p]=br(n,r,J,b)}else O&&(r[`__${n}`]=void 0)}else if(u==="style")k(r,u,f);else if(u==="autofocus")vr(r,!!f);else if(!d&&(u==="__value"||u==="value"&&f!=null))r.value=r.__value=f;else if(u==="selected"&&N)wr(r,f);else{var _=u;A||(_=yr(_));var V=_==="defaultValue"||_==="defaultChecked";if(f==null&&!d&&!V)if(v[u]=null,_==="value"||_==="checked"){let b=r;const p=a===void 0;if(_==="value"){let n=b.defaultValue;b.removeAttribute(_),b.defaultValue=n,b.value=b.__value=p?n:null}else{let n=b.defaultChecked;b.removeAttribute(_),b.defaultChecked=n,b.checked=p?n:!1}}else r.removeAttribute(u);else V||w.includes(_)&&(d||typeof f!="string")?(r[_]=f,_ in v&&(v[_]=_r)):typeof f!="function"&&k(r,_,f,s)}}}return S&&j(!0),o}function Hr(r,a,e=[],t=[],i=[],s,l=!1,c=!1){cr(i,e,t,v=>{var d=void 0,A={},S=r.nodeName==="SELECT",o=!1;if(G(()=>{var g=a(...v.map(or)),w=Mr(r,d,g,s,l,c);o&&S&&"value"in g&&M(r,g.value);for(let h of Object.getOwnPropertySymbols(A))g[h]||U(A[h]);for(let h of Object.getOwnPropertySymbols(g)){var L=g[h];h.description===nr&&(!d||L!==d[h])&&(A[h]&&U(A[h]),A[h]=K(()=>Lr(r,()=>L))),w[h]=L}d=w}),S){var N=r;P(()=>{M(N,d.value,!0),Y(N)})}o=!0})}function H(r){return r.__attributes??={[z]:r.nodeName.includes("-"),[Q]:r.namespaceURI===ar}}var B=new Map;function F(r){var a=r.getAttribute("is")||r.nodeName,e=B.get(a);if(e)return e;B.set(a,e=[]);for(var t,i=r,s=Element.prototype;s!==i;){t=ir(i);for(var l in t)t[l].set&&e.push(l);i=tr(i)}return e}function kr(r,a,e){sr&&(a==="srcset"&&Or(r,e)||q(r.getAttribute(a)??"",e)||ur(a,r.outerHTML.replace(r.innerHTML,r.innerHTML&&"..."),String(e)))}function q(r,a){return r===a?!0:new URL(r,document.baseURI).href===new URL(a,document.baseURI).href}function D(r){return r.split(",").map(a=>a.trim().split(" ").filter(Boolean))}function Or(r,a){var e=D(r.srcset),t=D(a);return t.length===e.length&&t.every(([i,s],l)=>s===e[l][1]&&(q(e[l][0],i)||q(i,e[l][0])))}export{k as a,Tr as b,qr as c,Hr as d,Er as e,Ir as r,Pr as s};
